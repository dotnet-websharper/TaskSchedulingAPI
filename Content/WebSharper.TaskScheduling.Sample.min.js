import { Start as fI } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fJ, SetOptional as fK, GetOptional as fL, CreateFuncWithArgs as fM, DeleteEmptyFields as fN, Lazy as fO, Create as fP, OnLoad as fQ } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fR){ return"Dispose"in fR;}
function b(){ const fR=new m("New_1");const fS=(fR.h.push(n(fR.k, "runtasks", () => fR.i, () => { const fX=null;I(F(() => G(R(c()), () => H(null))), null);})),fR);const fT=o(fS.k, fS.h, []);const fU=new h(fT[1], A(fT[0]));let fV=(fS.i=fU,fU);const fW=fV.Doc;V("");bc.RunById("main", fW);}
function c(){ const fR=null;return new Promise((fS) => { let fT;const fU=globalThis.scheduler;let fV=fU==null?(console.error("\u274c Prioritized Task Scheduling API is not supported in this browser."),Promise.resolve(null)):fU.postTask(() => console.log("\ud83d\udd25 High Priority Task: user-blocking"), (fT={},fT.priority="user-blocking",fT)).then(() => { let fW;return fU.postTask(() => console.log("\u26a1 Medium Priority Task: user-visible"), (fW={},fW.priority="user-visible",fW)).then(() => { let fX;return fU.postTask(() => console.log("\ud83d\udca4 Low Priority Task: background"), (fX={},fX.priority="background",fX)).then(() => { console.log("\u2705 Tasks have been scheduled!");return Promise.resolve(null);});});});fS(fV);});}
function d(fR){ throw new Error(fR);}
function e(fR){ return[fR.K, fR.V];}
function f(fR, fS){ const fT=1+fS-fR;return fT<=0?[]:bt(fT, (fU) => fU+fR);}
class g { Equals(fR){ return this===fR;} GetHashCode(){ return -1;} }
class h extends g { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fR){ this.anchorRoot=fR;} constructor(fR, fS){ super();this.doc=fS;this.allVars=fR.$==0?fR.$0:d("Should not happen");this.anchorRoot=null;} }
function i(fR, fS){ k(fR, fS);return fR[fS];}
function j(fR, fS, fT){ k(fR, fS);fR[fS]=fT;}
function k(fR, fS){ if(fS<0||fS>=fR.length)d("Index was outside the bounds of the array.");}
function l(fR){ return fR.dims===2?fR.length*fR.length:fR.length;}
class m extends g { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fR){ if(fR=="New_1"){ let fS;super();this.i=null;this.k=(fS=B(),String(fS));this.h=fJ([]);fK(this, "s", null);} } }
function n(fR, fS, fT, fU){ return new D(fS, (fV) =>(fW) => { const fX=fT();fX.SetAnchorRoot(fV);return fU({Vars:fX, Anchors:fX, Target:fV, Event:fW});});}
function o(fR, fS, fT){ const fU=new bd("New_5");const fV=new bj("New_3");const fW=b7(fS);try { while(fW.MoveNext()){ const fX=fW.Current;const fY=fX.Name;fV.SAdd(fY);fU.set_Item(fY, fX);} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} return[bk(fS, bz((fZ) => { const f0=fZ[0];const f1=fZ[1];const f2=fZ[2];if(fV.Contains(f0))return null;else { const f3=f1===0?bO.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:U(f2.$0);let f5=bQ.Create_1(f4==null?"":f4.$0);return new bP(f0, f5);}):f1===1?bO.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:U(f2.$0);let f5=bQ.Create_1(f4==null?0:f4.$0);return new bR(f0, f5);}):f1===2?bO.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:U(f2.$0);let f5=bQ.Create_1(f4==null?false:f4.$0);return new bS(f0, f5);}):f1===3?bO.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:U(f2.$0);let f5=bQ.Create_1(f4==null?-8640000000000000:f4.$0);return new bT(f0, f5);}):f1===4?bO.GetOrAddHoleFor(fR, f0, () => new bU(f0, bQ.Create_1([]))):f1===5?bO.GetOrAddHoleFor(fR, f0, () => new bV(f0, bQ.Create_1(U(globalThis.document.querySelector("[ws-dom="+f0+"]"))))):f1===6?bO.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:U(f2.$0);let f5=bQ.Create_1(f4==null?[]:f4.$0);return new bW(f0, f5);}):d("Invalid value type");fU.set_Item(f0, f3);return U(f3);} }, fT)), {$:0, $0:fU}];}
function p(fR, fS){ if(fR===fS)return true;else { const fT=typeof fR;if(fT=="object"){ if(fR===null||fR===void 0||fS===null||fS===void 0||!p(typeof fS, "object"))return false;else if("Equals"in fR)return fR.Equals(fS);else if("Equals"in fS)return false;else if(fR instanceof Array&&fS instanceof Array)return q(fR, fS);else if(fR instanceof Date&&fS instanceof Date)return r(fR, fS);else { const fU=[true];let fV;for(var fX in fR)if(((fY) => { fU[0]=!fR.hasOwnProperty(fY)||fS.hasOwnProperty(fY)&&p(fR[fY], fS[fY]);return!fU[0];})(fX))break;if(fU[0]){ let fW;for(var fY in fS)if(((fZ) => { fU[0]=!fS.hasOwnProperty(fZ)||fR.hasOwnProperty(fZ);return!fU[0];})(fY))break;} return fU[0];} } else return fT=="function"&&("$Func"in fR?fR.$Func===fS.$Func&&fR.$Target===fS.$Target:"$Invokes"in fR&&"$Invokes"in fS&&q(fR.$Invokes, fS.$Invokes));} }
function q(fR, fS){ let fT;let fU;if(l(fR)===l(fS)){ fT=true;fU=0;while(fT&&fU<l(fR)){!p(i(fR, fU), i(fS, fU))?fT=false:void 0;fU=fU+1;} return fT;} else return false;}
function r(fR, fS){ return fR.getTime()===fS.getTime();}
function s(fR){ const fS=typeof fR;return fS=="function"?0:fS=="boolean"?fR?1:0:fS=="number"?fR:fS=="string"?t(fR):fS=="object"?fR==null?0:fR instanceof Array?u(fR):v(fR):0;}
function t(fR){ let fS;if(fR===null)return 0;else { fS=5381;for(let fT=0, fU=fR.length-1;fT<=fU;fT++)fS=w(fS, fR[fT].charCodeAt());return fS;} }
function u(fR){ let fS=-34948909;for(let fT=0, fU=l(fR)-1;fT<=fU;fT++)fS=w(fS, s(i(fR, fT)));return fS;}
function v(fR){ if("GetHashCode"in fR)return fR.GetHashCode();else { const fS=[0];let fT;for(var fU in fR)if(((fV) => { fS[0]=w(w(fS[0], t(fV)), s(fR[fV]));return false;})(fU))break;return fS[0];} }
function w(fR, fS){ return(fR<<5)+fR+fS;}
function x(fR, fS){ if(fR===fS)return 0;else { const fT=typeof fR;switch(fT=="function"?1:fT=="boolean"?2:fT=="number"?2:fT=="string"?2:fT=="object"?3:0){ case 0:return typeof fS=="undefined"?0:-1;case 1:return d("Cannot compare function values.");case 2:return fR<fS?-1:1;case 3:if(fR===null)return -1;else if(fS===null)return 1;else if("CompareTo"in fR)return fR.CompareTo(fS);else if("CompareTo0"in fR)return fR.CompareTo0(fS);else if(fR instanceof Array&&fS instanceof Array)return y(fR, fS);else if(fR instanceof Date&&fS instanceof Date)return z(fR, fS);else { const fU=[0];let fV;for(var fX in fR)if(((fY) =>!fR.hasOwnProperty(fY)?false:!fS.hasOwnProperty(fY)?(fU[0]=1,true):(fU[0]=x(fR[fY], fS[fY]),fU[0]!==0))(fX))break;if(fU[0]===0){ let fW;for(var fY in fS)if(((fZ) =>!fS.hasOwnProperty(fZ)?false:!fR.hasOwnProperty(fZ)&&(fU[0]=-1,true))(fY))break;} return fU[0];} break;} } }
function y(fR, fS){ let fT;let fU;if(l(fR)<l(fS))return -1;else if(l(fR)>l(fS))return 1;else { fT=0;fU=0;while(fT===0&&fU<l(fR)){ fT=x(i(fR, fU), i(fS, fU));fU=fU+1;} return fT;} }
function z(fR, fS){ return x(fR.getTime(), fS.getTime());}
function A(fR){ V("index");return fR?W("index", U("main"), fR):void 0;}
function B(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fR) => { const fS=Math.random()*16|0;const fT=fR=="x"?fS:fS&3|8;return fT.toString(16);});}
class C extends g { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fR, fS){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eg("");} }
class D extends C { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
function E(fR){ const fS={};const fT=b7(fR);try { while(fT.MoveNext()){ const fU=fT.Current;fS[fU[0]]=fU[1];} } finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} return fS;}
function F(fR){ return(fS) => { try {(fR())(fS);} catch(fT){ fS.k(bf(fT));} };}
function G(fR, fS){ return J((fT) => { fR(be((fU) => { if(fU.$==0){ const fV=fU.$0;N().Fork(() => { try {(fS(fV))(fT);} catch(fW){ fT.k(bf(fW));} });} else N().Fork(() => { fT.k(fU);});}, fT.ct));});}
function H(fR){ return(fS) => { fS.k(bg(fR));};}
function I(fR, fS){ const fT=(K())[0];const fU=fS==null?fT:fS.$0;if(!fU.c)fR(be((fV) => { if(fV.$==1)L(fV.$0);}, fU));}
function J(fR){ return(fS) => { if(fS.ct.c)M(fS);else fR(fS);};}
function K(){ return b5.defCTS;}
function L(fR){ console.log("WebSharper: Uncaught asynchronous exception", fR);}
function M(fR){ fR.k(bh(new cV("New", fR.ct)));}
function N(){ return b5.scheduler;}
function O(fR){ return(fS) => { const fT=[false];const fU=(fV) => { if(fT[0])d("A continuation provided by Async.FromContinuations was invoked multiple times");else { fT[0]=true;N().Fork(fV);} };fR((fV) => { fU(() => { fS.k(bg(fV));});}, (fV) => { fU(() => { fS.k(bf(fV));});}, (fV) => { fU(() => { fS.k(bh(fV));});});};}
function P(){ return b5.Zero;}
function Q(fR, fS){ const fT=(K())[0];const fU=fS==null?fT:fS.$0;N().Fork(() => { if(!fU.c)fR(be((fV) => { if(fV.$==1)L(fV.$0);}, fU));});}
function R(fR){ return O((fS, fT) => { fR.then(fS, (fU) => fT(S(fU)));});}
function S(fR){ return fR instanceof Error?fR:new b4(fR);}
function T(fR){ let fS=[];let fT;for(var fU in fR)fS.push(fR[fU]);return fS;}
function U(fR){ return{$:1, $0:fR};}
function V(fR){!X()?(Y(true),Z(globalThis.document.body, "")):void 0;u0030().set_Item(fR, u0031(""));}
function W(fR, fS, fT){ let fU;const fV=(fU=null,[u0031(fR).TryGetValue(fS==null?"":fS.$0, {get:() => fU, set:(fW) => { fU=fW;}}), fU]);return fV[0]?u0032(fV[1].cloneNode(true), fT):(console.warn("Local template doesn't exist", fS),bc.Empty);}
function X(){ return cz.LocalTemplatesLoaded;}
function Y(fR){ cz.LocalTemplatesLoaded=fR;}
function Z(fR, fS){ const fT=u0031(fS);const fU=new bd("New_5");const fV=fR.querySelectorAll("[ws-template]");for(let f7=0, f8=fV.length-1;f7<=f8;f7++){ const fW=fV[f7];const fX=fW.getAttribute("ws-template").toLowerCase();fW.removeAttribute("ws-template");fU.set_Item(fX, u0033(fW));} const fY=fR.querySelectorAll("[ws-children-template]");for(let f9=0, f_=fY.length-1;f9<=f_;f9++){ const fZ=fY[f9];const f0=fZ.getAttribute("ws-children-template").toLowerCase();fZ.removeAttribute("ws-children-template");fU.set_Item(f0, u0034(fZ));} const f1=fR.querySelectorAll("template[id]");for(let f$=0, ga=f1.length-1;f$<=ga;f$++){ const f2=f1[f$];fU.set_Item(f2.getAttribute("id").toLowerCase(), u0035(f2));} const f3=fR.querySelectorAll("template[name]");for(let gb=0, gc=f3.length-1;gb<=gc;gb++){ const f4=f3[gb];fU.set_Item(f4.getAttribute("name").toLowerCase(), u0035(f4));} const f5=new bj("New_3");function f6(gd){ if(!fT.ContainsKey(gd)){ let ge;const gf=(ge=null,[fU.TryGetValue(gd, {get:() => ge, set:(gg) => { ge=gg;}}), ge]);if(gf[0]){ f5.SAdd(gd);fU.RemoveKey(gd);u0036(fS, U(gd), gf[1], U(f6));} else console.warn(f5.Contains(gd)?"Encountered loop when instantiating "+gd:"Local template does not exist: "+gd);} } while(fU.count>0)f6(bl(fU.Keys));}
function u0030(){ return cz.LoadedTemplates;}
function u0031(fR){ let fS;const fT=(fS=null,[u0030().TryGetValue(fR, {get:() => fS, set:(fV) => { fS=fV;}}), fS]);if(fT[0])return fT[1];else { const fU=new bd("New_5");u0030().set_Item(fR, fU);return fU;} }
function u0032(fR, fS){ let fT;const fU=u0037(fR, bk(fS, u0038().Values));const fV=fU[1];const fW=fU[0];const fX=fW.Els;return!p(fX, null)&&fX.length===1&&(i(fX, 0)instanceof Node&&(p(i(fX, 0).nodeType, Node.ELEMENT_NODE)&&(fT=i(fX, 0),true)))?c3.TreeNode(fW, fV):bc.Mk(bY(fW), fV);}
function u0033(fR){ fR.removeAttribute("ws-template");const fS=fR.getAttribute("ws-replace");if(fS==null){ } else { fR.removeAttribute("ws-replace");const fT=fR.parentNode;if(p(fT, null)){ } else { const fU=globalThis.document.createElement(fR.tagName);fU.setAttribute("ws-replace", fS);fT.replaceChild(fU, fR);} } const fV=globalThis.document.createElement("div");fV.appendChild(fR);return fV;}
function u0034(fR){ const fS=globalThis.document.createElement("div");while(fR.hasChildNodes())fS.appendChild(fR.firstChild);return fS;}
function u0035(fR){ const fS=globalThis.document.createElement("div");const fT=fR.content;for(let fU=0, fV=fT.childNodes.length-1;fU<=fV;fU++)fS.appendChild(fT.childNodes[fU].cloneNode(true));return fS;}
function u0036(fR, fS, fT, fU){ const fV=new bj("New_3");function fW(f3, f4){ while(true)switch(f3){ case 0:if(f4!==null){ const f5=f4.nextSibling;if(p(f4.nodeType, Node.TEXT_NODE))da(f4);else if(p(f4.nodeType, Node.ELEMENT_NODE))fY(f4);f4=f5;} else return null;break;case 1:const f6=di(f4.nodeName, U(3), null).toLowerCase();const f7=f6.indexOf(".");const f8=f7===-1?[fR, f6]:[di(f6, null, U(f7-1)), di(f6, U(f7+1), null)];const f9=f8[1];const f_=f8[0];if(f_!=""&&!u0030().ContainsKey(f_))return db(f9);else { if(f_==""&&fU!=null)fU.$0(f9);const f$=u0030().Item(f_);if(!f$.ContainsKey(f9))return db(f9);else { const ga=f$.Item(f9);const gb=ga.cloneNode(true);const gc=new bj("New_3");const gd=new bd("New_5");const ge=f4.attributes;for(let go=0, gp=ge.length-1;go<=gp;go++){ const gf=ge.item(go).name.toLowerCase();const gg=ge.item(go).nodeValue;let gh=gg==""?gf:gg.toLowerCase();gd.set_Item(gf, gh);if(!gc.SAdd(gf))console.warn("Hole mapped twice", gf);} for(let gq=0, gr=f4.childNodes.length-1;gq<=gr;gq++){ const gi=f4.childNodes[gq];if(p(gi.nodeType, Node.ELEMENT_NODE))if(!gc.SAdd(gi.nodeName.toLowerCase()))console.warn("Hole filled twice", f9);} const gj=f4.childNodes.length===1&&p(f4.firstChild.nodeType, Node.TEXT_NODE);if(gj){ const gk=dc(gb, f4.firstChild.textContent, f9);const gl=((gs) =>(gt) => gs.SAdd(gt))(gc);let gm=((gs) =>(gt) => { if(gt!=null)gs(gt.$0);})((gs) => { gl(gs);});gm(gk);} dd(gb, gc);if(!gj){ for(let gs=0, gt=f4.childNodes.length-1;gs<=gt;gs++){ const gn=f4.childNodes[gs];if(p(gn.nodeType, Node.ELEMENT_NODE))if(gn.hasAttributes())de(gb, gn);else fX(gb, gn);} } df(gb, gd);dg(gb, f4.parentNode, f4);f4.parentNode.removeChild(f4);return;} } break;} } function fX(f3, f4){ const f5=f4.nodeName.toLowerCase();const f6=(f_, f$) => { if(f5=="title"&&f4.hasChildNodes()){ const ga=dj(f4.textContent);f4.removeChild(f4.firstChild);while(ga.hasChildNodes())f4.appendChild(ga.firstChild);} fY(f4);return dg(f4, f_, f$);};u0039(f3, "[ws-attr-holes]", (f_) => { const f$=ek(f_.getAttribute("ws-attr-holes"), [" "], 1);for(let gd=0, ge=f$.length-1;gd<=ge;gd++){ const ga=i(f$, gd);let gb=new RegExp("\\${"+f5+"}", "ig");let gc=f_.getAttribute(ga).replace(gb, f4.textContent);f_.setAttribute(ga, gc);} });const f7=f3.querySelector("[ws-hole="+f5+"]");if(p(f7, null)){ const f8=f3.querySelector("[ws-replace="+f5+"]");if(p(f8, null)){ const f9=f3.querySelector("slot[name="+f5+"]");return f3.tagName.toLowerCase()=="template"?(f6(f9.parentNode, f9),void f9.parentNode.removeChild(f9)):null;} else { f6(f8.parentNode, f8);f8.parentNode.removeChild(f8);return;} } else { while(f7.hasChildNodes())f7.removeChild(f7.lastChild);f7.removeAttribute("ws-hole");return f6(f7, null);} } function fY(f3){ if(!f3.hasAttribute("ws-preserve"))if(el(f3.nodeName.toLowerCase(), "ws-"))f0(f3);else { dh(f3);fZ(f3.firstChild);} } function fZ(f3){ return fW(0, f3);} function f0(f3){ return fW(1, f3);} function f1(f3){ while(true){ const f4=f3.querySelector("[ws-template]");if(p(f4, null)){ const f5=f3.querySelector("[ws-children-template]");if(p(f5, null)){ const f6=f3.querySelectorAll("template[id]");for(let ga=1, gb=f6.length-1;ga<=gb;ga++){ const f7=f6[ga];if(fV.Contains(f7)){ } else { u0036(fR, U(f7.getAttribute("id")), f7, null);fV.SAdd(f7);} } const f8=f3.querySelectorAll("template[name]");for(let gc=1, gd=f8.length-1;gc<=gd;gc++){ const f9=f8[gc];if(fV.Contains(f9)){ } else { u0036(fR, U(f9.getAttribute("name")), f9, null);fV.SAdd(f9);} } return null;} else { const f_=f5.getAttribute("ws-children-template");f5.removeAttribute("ws-children-template");u0036(fR, U(f_), f5, null);f3=f3;} } else { const f$=f4.getAttribute("ws-template");($(fR, U(f$), f4))(null);f3=f3;} } } const f2=(fS==null?"":fS.$0).toLowerCase();u0031(fR).set_Item(f2, fT);if(fT.hasChildNodes()){ f1(fT);fZ(fT.firstChild);} }
function u0037(fR, fS){ let fT;const fU=[];const fV=[];const fW=[];const fX=[];const fY=new bd("New_5");const fZ=b7(fS);try { while(fZ.MoveNext()){ const f0=fZ.Current;fY.set_Item(f0.Name, f0);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} let f1=dk(fR);const f2=(f$, ga) => { const gb=dJ(f$, ga);fV.push(dK(gb));fW.push([f$, gb]);const gc=fL(gb.OnAfterRender);if(gc==null)return null;else { const gd=gc.$0;fX.push(() => { gd(f$);});return;} };const f3=(f$) => { let ga;const gb=(ga=null,[fY.TryGetValue(f$, {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gb[0]){ const gc=gb[1];if(gc instanceof d0)return U(gc.Value);else if(gc instanceof d1)return U(bc.TextNode(gc.Value));else { const gd=gc.ForTextView();return gd==null?null:U(bc.TextView(gd.$0));} } else return null;};u0039(fR, "[ws-hole]", (f$) => { const ga=f$.getAttribute("ws-hole");f$.removeAttribute("ws-hole");while(f$.hasChildNodes())f$.removeChild(f$.lastChild);const gb=f3(ga);if(gb!=null&&gb.$==1){ const gc=gb.$0;cA(f$, gc.docNode);fU.push(cU.New(dL(f$), gc.docNode, null, f$, cX(), null));fV.push(gc.updates);} });u0039(fR, "[ws-replace]", (f$) => { const ga=f3(f$.getAttribute("ws-replace"));if(ga!=null&&ga.$==1){ const gb=ga.$0;const gc=f$.parentNode;const gd=globalThis.document.createTextNode("");gc.replaceChild(gd, f$);const ge=cF(gd, gb.docNode);f1=dk(fR);const gf=bA((gg) => f$===gg, f1);if(gf==null){ } else j(f1, gf.$0, gb.docNode);fU.push(cU.New(dL(gc), gb.docNode, U([ge, gd]), gc, cX(), null));fV.push(gb.updates);} });let f4=false;u0039(fR, "slot", (f$) => { const ga=f$.getAttribute("name");const gb=ga==""||ga==null?"default":ga.toLowerCase();if(f4&&gb=="default"||!p(fR.parentElement, null)){ } else { while(f$.hasChildNodes())f$.removeChild(f$.lastChild);if(gb=="default")f4=true;const gc=f3(gb);if(gc!=null&&gc.$==1){ const gd=gc.$0;cA(f$, gd.docNode);fU.push(cU.New(dL(f$), gd.docNode, null, f$, cX(), null));fV.push(gd.updates);} } });u0039(fR, "[ws-attr]", (f$) => { let ga;const gb=f$.getAttribute("ws-attr");f$.removeAttribute("ws-attr");const gc=(ga=null,[fY.TryGetValue(gb, {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];if(gd instanceof d2)f2(f$, gd.Value);else console.warn("Attribute hole filled with non-attribute data", gb);} });u0039(fR, "[ws-on]", (f$) => { f2(f$, ed.Concat(bz((ga) => { let gb;const gc=ek(ga, [":"], 1);const gd=(gb=null,[fY.TryGetValue(i(gc, 1), {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gd[0]){ const ge=gd[1];return ge instanceof d3?U(d4(i(gc, 0), ge.Value)):ge instanceof D?U(ed.Handler(i(gc, 0), ge.Value)):(console.warn("Event hole on"+i(gc, 0)+" filled with non-event data", i(gc, 1)),null);} else return null;}, ek(f$.getAttribute("ws-on"), [" "], 1))));f$.removeAttribute("ws-on");});u0039(fR, "[ws-onafterrender]", (f$) => { let ga;const gb=f$.getAttribute("ws-onafterrender");const gc=(ga=null,[fY.TryGetValue(gb, {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];if(gd instanceof ee){ f$.removeAttribute("ws-onafterrender");f2(f$, d5(gd.Value));} else if(gd instanceof ef){ f$.removeAttribute("ws-onafterrender");f2(f$, d5(gd.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gb);} });u0039(fR, "[ws-var]", (f$) => { let ga;const gb=f$.getAttribute("ws-var");f$.removeAttribute("ws-var");const gc=(ga=null,[fY.TryGetValue(gb, {get:() => ga, set:(gd) => { ga=gd;}}), ga]);if(gc[0])gc[1].AddAttribute((gd) =>(ge) => f2(gd, ge), f$);});const f5=() => { ba("[ws-dom]", (f$) => { let ga;let gb;let gc;const gd=(ga=null,[fY.TryGetValue(f$.getAttribute("ws-dom").toLowerCase(), {get:() => ga, set:(gh) => { ga=gh;}}), ga]);if(gd[0]){ const ge=gd[1];if(ge instanceof bV){ const gf=ge.Value;f$.removeAttribute("ws-dom");gb=f$;const gg=new MutationObserver((gh, gi) => { bE((gj) => { gj.removedNodes.forEach(fM((gk) => gk[0]===gb&&gj.addedNodes.length!==1?(gf.SetFinal(null),gi.disconnect()):null), null);}, gh);});if(f$.parentElement!==null)gg.observe(f$.parentElement, (gc={},gc.childList=true,gc));gf.Set(U(f$));c5((gh) => { if(gh!=null&&gh.$==1){ const gi=gh.$0;if(gb===gi){ } else { gb.replaceWith(gi);gb=gi;} } else { gb.remove();gg.disconnect();} }, gf.View);} } });};u0039(fR, "[ws-attr-holes]", (f$) => { const ga=new RegExp(bb(), "g");const gb=ek(f$.getAttribute("ws-attr-holes"), [" "], 1);f$.removeAttribute("ws-attr-holes");for(let gc=0, gd=gb.length-1;gc<=gd;gc++)((() => { let ge;const gf=i(gb, gc);const gg=f$.getAttribute(gf);let gh=null;let gi=0;const gj=[];while(gh=ga.exec(gg),gh!==null){ const gk=di(gg, U(gi), U(ga.lastIndex-i(gh, 0).length-1));gi=ga.lastIndex;gj.push([gk, i(gh, 1)]);} const gl=di(gg, U(gi), null);ga.lastIndex=0;const gm=bF((gr, gs) =>(((gt) => { const gu=gt[0];const gv=gt[1];return(gw) => { let gx;const gy=gw[0];const gz=gw[1];const gA=(gx=null,[fY.TryGetValue(gv, {get:() => gx, set:(gC) => { gx=gC;}}), gx]);const gB=gA[0]?gA[1].AsChoiceView:eg("");return gB.$==1?[gu, ei.Cons(gy==""?gB.$0:c6((gC) => gC+gy, gB.$0), gz)]:[gu+gB.$0+gy, gz];};})(gr))(gs), gj, [gl, ei.Empty]);if(gm[1].$==1){ if(gm[1].$1.$==1){ if(gm[1].$1.$1.$==1){ if(gm[1].$1.$1.$1.$==0){ const gn=gm[0];ge=d6(gf, c7((gr, gs, gt) => gn+gr+gs+gt, gm[1].$0, gm[1].$1.$0, gm[1].$1.$1.$0));} else { const go=gm[0];ge=d6(gf, c6((gr) => go+ej("", gr), c8(gm[1])));} } else { const gp=gm[0];ge=d6(gf, c9((gr, gs) => gp+gr+gs, gm[1].$0, gm[1].$1.$0));} } else if(gm[0]=="")ge=d6(gf, gm[1].$0);else { const gq=gm[0];ge=d6(gf, c6((gr) => gq+gr, gm[1].$0));} } else ge=ed.Create(gf, gm[0]);return f2(f$, ge);})());});let f6=f1;const f7=fX.length==0?U(() => { f5();}):U((f$) => { f5();bE((ga) => { ga(f$);}, fX);});const f8=!p(f1, null)&&f1.length===1&&(i(f1, 0)instanceof Node&&(i(f1, 0)instanceof Element&&(fT=i(f1, 0),true)))?U(fT):null;let f9={Els:f6, Dirty:true, Holes:fU, Attrs:fW, Render:f7?f7.$0:void 0, El:f8?f8.$0:void 0};let f_=fN(f9, ["Render", "El"]);return[f_, er(c4(), c_, fV)];}
function u0038(){ return cz.GlobalHoles;}
function u0039(fR, fS, fT){ dq(fR, fS, (fU) => { if(fU.closest("[ws-preserve]")==null)fT(fU);});}
function $(fR, fS, fT){ const fU=u0033(fT);return(fV) => { u0036(fR, fS, fU, fV);};}
function ba(fR, fS){ dr(fR, (fT) => { if(fT.closest("[ws-preserve]")==null)fS(fT);});}
function bb(){ return cz.TextHoleRE;}
class bc extends g { docNode;updates;static RunById(fR, fS){ const fT=globalThis.document.getElementById(fR);if(p(fT, null))d("invalid id: "+fR);else bc.Run(fT, fS);} static Run(fR, fS){ cA(fR, fS.docNode);bc.RunInPlace(false, fR, fS);} static get Empty(){ return bc.Mk(null, c4());} static RunInPlace(fR, fS, fT){ const fU=cC(fS, fT.docNode);c5(dy()||dF()?dG(cD(fR, fU, fT.docNode)):() => { cE(fR, fU, fT.docNode);}, fT.updates);} static Mk(fR, fS){ return new bc(fR, fS);} static TextNode(fR){ return bc.Mk(bZ(globalThis.document.createTextNode(fR)), c4());} static TextView(fR){ const fS=cN();return bc.Mk(b0(fS), c6((fT) => { cO(fS, fT);}, fR));} constructor(fR, fS){ super();this.docNode=fR;this.updates=fS;} }
class bd extends g { equals;hash;count;data;set_Item(fR, fS){ this.set(fR, fS);} set(fR, fS){ const fT=this.hash(fR);const fU=this.data[fT];if(fU==null){ this.count=this.count+1;this.data[fT]=new Array({K:fR, V:fS});} else { const fV=bA((fW) => this.equals.apply(null, [(e(fW))[0], fR]), fU);if(fV==null){ this.count=this.count+1;fU.push({K:fR, V:fS});} else fU[fV.$0]={K:fR, V:fS};} } TryGetValue(fR, fS){ const fT=this.data[this.hash(fR)];if(fT==null)return false;else { const fU=bB((fV) => { const fW=e(fV);return this.equals.apply(null, [fW[0], fR])?U(fW[1]):null;}, fT);return fU!=null&&fU.$==1&&(fS.set(fU.$0),true);} } ContainsKey(fR){ const fS=this.data[this.hash(fR)];return fS==null?false:bC((fT) => this.equals.apply(null, [(e(fT))[0], fR]), fS);} RemoveKey(fR){ return this.remove(fR);} get Keys(){ return new dx(this);} GetEnumerator(){ return b_(bD(T(this.data)));} get Values(){ return new ev(this);} remove(fR){ const fS=this.hash(fR);const fT=this.data[fS];if(fT==null)return false;else { const fU=bH((fV) =>!this.equals.apply(null, [(e(fV))[0], fR]), fT);return l(fU)<fT.length&&(this.count=this.count-1,this.data[fS]=fU,true);} } Item(fR){ return this.get(fR);} get(fR){ const fS=this.data[this.hash(fR)];return fS==null?b6():bJ((fT) => { const fU=e(fT);return this.equals.apply(null, [fU[0], fR])?U(fU[1]):null;}, fS);} static New_5(){ return new this("New_5");} static New_6(fR, fS, fT){ return new this("New_6", fR, fS, fT);} constructor(fR, fS, fT, fU){ if(fR=="New_5"){ fR="New_6";fS=[];fT=p;fU=s;} if(fR=="New_6"){ const fV=fS;const fW=fT;const fX=fU;super();this.equals=fW;this.hash=fX;this.count=0;this.data=[];const fY=b7(fV);try { while(fY.MoveNext()){ const fZ=fY.Current;this.set(fZ.K, fZ.V);} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} } } }
function be(fR, fS){ return{k:fR, ct:fS};}
function bf(fR){ return{$:1, $0:fR};}
function bg(fR){ return{$:0, $0:fR};}
function bh(fR){ return{$:2, $0:fR};}
function bi(fR, fS){ return{c:fR, r:fS};}
class bj extends g { equals;hash;data;count;SAdd(fR){ return this.add(fR);} Contains(fR){ const fS=this.data[this.hash(fR)];return fS==null?false:this.arrContains(fR, fS);} add(fR){ const fS=this.hash(fR);const fT=this.data[fS];return fT==null?(this.data[fS]=[fR],this.count=this.count+1,true):this.arrContains(fR, fT)?false:(fT.push(fR),this.count=this.count+1,true);} arrContains(fR, fS){ let fT=true;let fU=0;const fV=fS.length;while(fT&&fU<fV)if(this.equals.apply(null, [fS[fU], fR]))fT=false;else fU=fU+1;return!fT;} GetEnumerator(){ return b7(eN(this.data));} ExceptWith(fR){ const fS=b7(fR);try { while(fS.MoveNext())this.Remove(fS.Current);} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} } get Count(){ return this.count;} IntersectWith(fR){ const fS=new bj("New_4", fR, this.equals, this.hash);const fT=eN(this.data);for(let fV=0, fW=fT.length-1;fV<=fW;fV++){ const fU=fT[fV];if(!fS.Contains(fU))this.Remove(fU);} } Remove(fR){ const fS=this.data[this.hash(fR)];return fS==null?false:this.arrRemove(fR, fS)&&(this.count=this.count-1,true);} CopyTo(fR, fS){ const fT=eN(this.data);for(let fU=0, fV=fT.length-1;fU<=fV;fU++)j(fR, fU+fS, fT[fU]);} arrRemove(fR, fS){ let fT=true;let fU=0;const fV=fS.length;while(fT&&fU<fV)if(this.equals.apply(null, [fS[fU], fR])){ fS.splice(fU, 1);fT=false;} else fU=fU+1;return!fT;} static New_3(){ return new this("New_3");} static New_4(fR, fS, fT){ return new this("New_4", fR, fS, fT);} static New_2(fR){ return new this("New_2", fR);} constructor(fR, fS, fT, fU){ if(fR=="New_3"){ fR="New_4";fS=[];fT=p;fU=s;} let fV;if(fR=="New_2"){ fV=fS;fR="New_4";fS=fV;fT=p;fU=s;} if(fR=="New_4"){ const fW=fS;const fX=fT;const fY=fU;super();this.equals=fX;this.hash=fY;this.data=[];this.count=0;const fZ=b7(fW);try { while(fZ.MoveNext())this.add(fZ.Current);} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } } }
function bk(fR, fS){ return{GetEnumerator:() => { const fT=b7(fR);const fU=[true];return new b$(fT, null, (fV) => { if(fV.s.MoveNext()){ fV.c=fV.s.Current;return true;} else { const fW=fV.s;if(!p(fW, null))fW.Dispose();fV.s=null;return fU[0]&&(fU[0]=false,fV.s=b7(fS),fV.s.MoveNext()?(fV.c=fV.s.Current,true):(fV.s.Dispose(),fV.s=null,false));} }, (fV) => { const fW=fV.s;if(!p(fW, null))fW.Dispose();});}};}
function bl(fR){ const fS=b7(fR);try { return fS.MoveNext()?fS.Current:du();} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function bm(fR, fS, fT){ let fU=fS;const fV=b7(fT);try { while(fV.MoveNext())fU=fR(fU, fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bn(fR, fS){ const fT=b7(fS);try { while(fT.MoveNext())fR(fT.Current);} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bo(fR, fS){ return{GetEnumerator:() => { const fT=b7(fS);return new b$(null, null, (fU) => fT.MoveNext()&&(fU.c=fR(fT.Current),true), () => { fT.Dispose();});}};}
function bp(fR){ return{GetEnumerator:() => b7(fR())};}
function bq(fR, fS){ return bs(bo(fR, fS));}
function br(fR){ const fS=b7(fR);try { if(!fS.MoveNext())bu();let fT=fS.Current;while(fS.MoveNext()){ const fU=fS.Current;if(x(fU, fT)===1)fT=fU;} return fT;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function bs(fR){ return{GetEnumerator:() => { const fS=b7(fR);function fT(fU){ while(true){ const fV=fU.s;if(p(fV, null)){ if(fS.MoveNext()){ fU.s=b7(fS.Current);fU=fU;} else { fS.Dispose();return false;} } else if(fV.MoveNext()){ fU.c=fV.Current;return true;} else { fU.Dispose();fU.s=null;fU=fU;} } } return new b$(null, null, fT, (fU) => { const fV=fU.s;if(!p(fV, null))fV.Dispose();if(!p(fS, null))fS.Dispose();});}};}
function bt(fR, fS){ return bv(fR, bw(fS));}
function bu(){ return d("The input sequence was empty.");}
function bv(fR, fS){ fR<0?dw():void 0;return{GetEnumerator:() => { const fT=[b7(fS)];return new b$(0, null, (fU) => { fU.s=fU.s+1;if(fU.s>fR)return false;else { const fV=fT[0];return p(fV, null)?du():fV.MoveNext()?(fU.c=fV.Current,fU.s===fR?(fV.Dispose(),fT[0]=null):void 0,true):(fV.Dispose(),fT[0]=null,du());} }, () => { const fU=fT[0];if(!p(fU, null))fU.Dispose();});}};}
function bw(fR){ return{GetEnumerator:() => new b$(0, null, (fS) => { fS.c=fR(fS.s);fS.s=fS.s+1;return true;}, void 0)};}
function bx(fR, fS){ return!by((fT) =>!fR(fT), fS);}
function by(fR, fS){ const fT=b7(fS);try { let fU=false;while(!fU&&fT.MoveNext())fU=fR(fT.Current);return fU;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bz(fR, fS){ const fT=[];for(let fV=0, fW=fS.length-1;fV<=fW;fV++){ const fU=fR(fS[fV]);if(fU==null){ } else fT.push(fU.$0);} return fT;}
function bA(fR, fS){ let fT=null;let fU=0;while(fU<fS.length&&fT==null){ fR(fS[fU])?fT=U(fU):void 0;fU=fU+1;} return fT;}
function bB(fR, fS){ let fT=null;let fU=0;while(fU<fS.length&&fT==null){ const fV=fR(fS[fU]);if(fV!=null&&fV.$==1)fT=fV;fU=fU+1;} return fT;}
function bC(fR, fS){ let fT=false;let fU=0;while(!fT&&fU<l(fS))if(fR(fS[fU]))fT=true;else fU=fU+1;return fT;}
function bD(fR){ return Array.prototype.concat.apply([], bI(fR));}
function bE(fR, fS){ for(let fT=0, fU=fS.length-1;fT<=fU;fT++)fR(fS[fT]);}
function bF(fR, fS, fT){ let fU=fT;const fV=fS.length;for(let fW=1, fX=fV;fW<=fX;fW++)fU=fR(fS[fV-fW], fU);return fU;}
function bG(fR, fS){ const fT=new Array(fS.length);for(let fU=0, fV=fS.length-1;fU<=fV;fU++)fT[fU]=fR(fS[fU]);return fT;}
function bH(fR, fS){ const fT=[];for(let fU=0, fV=fS.length-1;fU<=fV;fU++)if(fR(fS[fU]))fT.push(fS[fU]);return fT;}
function bI(fR){ if(fR instanceof Array)return fR.slice();else if(fR instanceof ei)return bK(fR);else { const fS=[];const fT=b7(fR);try { while(fT.MoveNext())fS.push(fT.Current);return fS;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } }
function bJ(fR, fS){ const fT=bB(fR, fS);return fT==null?d("KeyNotFoundException"):fT.$0;}
function bK(fR){ const fS=[];let fT=fR;while(!(fT.$==0)){ fS.push(e3(fT));fT=e4(fT);} return fS;}
function bL(fR, fS){ let fT=true;let fU=0;while(fT&&fU<l(fS))if(fR(fS[fU]))fU=fU+1;else fT=false;return fT;}
function bM(fR, fS){ const fT=new Array(fR);for(let fU=0, fV=fR-1;fU<=fV;fU++)fT[fU]=fS;return fT;}
function bN(fR, fS){ if(fR<0)d("Negative size given.");else null;const fT=new Array(fR);for(let fU=0, fV=fR-1;fU<=fV;fU++)fT[fU]=fS(fU);return fT;}
let bO=fO((fR) => class fS extends g { static { bO=fR(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fT, fU, fV){ let fW;const fX=bO.GetHolesFor(fT);const fY=(fW=null,[fX.TryGetValue(fU, {get:() => fW, set:(f0) => { fW=f0;}}), fW]);if(fY[0])return fY[1];else { const fZ=fV();fX.set_Item(fU, fZ);return fZ;} } static GetHolesFor(fT){ let fU;const fV=(fU=null,[bO.initialized.TryGetValue(fT, {get:() => fU, set:(fX) => { fU=fX;}}), fU]);if(fV[0])return fV[1];else { const fW=new bd("New_5");bO.initialized.set_Item(fT, fW);return fW;} } static { bO.initialized=new bd("New_5");bO.instances=new bd("New_5");} });
class bP extends C { name;fillWith;get Name(){ return this.name;} ForTextView(){ return U(this.fillWith.View);} AddAttribute(fR, fS){(fR(fS))(d7(this.fillWith));} get AsChoiceView(){ return eh(c6(String, this.fillWith.View));} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
let bQ=fO((fR) => class fS extends g { static { bQ=fR(this);} static Create_1(fT){ return new cb(false, {s:c0(fT, [])}, fT);} static { } });
class bR extends C { name;fillWith;get Name(){ return this.name;} ForTextView(){ return U(c6(String, this.fillWith.View));} AddAttribute(fR, fS){(fR(fS))(d8(this.fillWith));} get AsChoiceView(){ return eh(c6(String, this.fillWith.View));} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
class bS extends C { name;fillWith;get Name(){ return this.name;} ForTextView(){ return U(c6(String, this.fillWith.View));} AddAttribute(fR, fS){(fR(fS))(d9(this.fillWith));} get AsChoiceView(){ return eh(c6(String, this.fillWith.View));} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
class bT extends C { name;fillWith;get Name(){ return this.name;} ForTextView(){ return U(c6((fR) =>(new Date(fR)).toLocaleString(), this.fillWith.View));} AddAttribute(fR, fS){(fR(fS))(d_(this.fillWith));} get AsChoiceView(){ return eh(c6((fR) =>(new Date(fR)).toLocaleString(), this.fillWith.View));} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
class bU extends C { name;fillWith;get Name(){ return this.name;} ForTextView(){ return U(c6(String, this.fillWith.View));} AddAttribute(fR, fS){(fR(fS))(d$(this.fillWith));} get AsChoiceView(){ return eh(c6(String, this.fillWith.View));} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
class bV extends C { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
class bW extends C { name;fillWith;get Name(){ return this.name;} ForTextView(){ return U(c6((fR) => ej(",", fR), this.fillWith.View));} AddAttribute(fR, fS){(fR(fS))(ea(this.fillWith));} get AsChoiceView(){ return eh(c6(String, this.fillWith.View));} constructor(fR, fS){ super();this.name=fR;this.fillWith=fS;} }
class bX extends g { }
function bY(fR){ return{$:6, $0:fR};}
function bZ(fR){ return{$:5, $0:fR};}
function b0(fR){ return{$:4, $0:fR};}
class b1 { }
function b2(fR, fS){ return fB(fR, -2147483648, 2147483647, fS);}
class b3 extends g { idle;robin;Fork(fR){ this.robin.push(fR);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fR=Date.now();let fS=true;while(fS)if(this.robin.length===0){ this.idle=true;fS=false;} else {(this.robin.shift())();Date.now()-fR>40?(setTimeout(() => { this.tick();}, 0),fS=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class b4 extends Error { reason;constructor(fR){ super("Promise rejected");this.reason=fR;} }
let b5=fO((fR) => class fS { static { b5=fR(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bi(false, []);this.scheduler=new b3();this.defCTS=[new cW()];this.Zero=H();this.GetCT=(fT) => { fT.k(bg(fT.ct));};} });
function b6(){ throw new eW("New");}
function b7(fR){ return fR instanceof Array?b8(fR):p(typeof fR, "string")?b9(fR):fR.GetEnumerator();}
function b8(fR){ return new b$(0, null, (fS) => { const fT=fS.s;return fT<l(fR)&&(fS.c=i(fR, fT),fS.s=fT+1,true);}, void 0);}
function b9(fR){ return new b$(0, null, (fS) => { const fT=fS.s;return fT<fR.length&&(fS.c=fR[fT],fS.s=fT+1,true);}, void 0);}
function b_(fR){ return fR instanceof Array?b8(fR):p(typeof fR, "string")?b9(fR):"GetEnumerator0"in fR?fR.GetEnumerator0():fR.GetEnumerator();}
class b$ extends g { s;c;n;d;e;MoveNext(){ const fR=this.n(this);this.e=fR?1:2;return fR;} get Current(){ return this.e===1?this.c:this.e===0?d("Enumeration has not started. Call MoveNext."):d("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fR, fS, fT, fU){ super();this.s=fR;this.c=fS;this.n=fT;this.d=fU;this.e=0;} }
class ca extends g { }
class cb extends ca { isConst;current;snap;view;id;SetFinal(fR){ if(this.isConst)(((fS) => fS("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fS) => { console.log(fS);}));else { dI(this.snap);this.isConst=true;this.current=fR;this.snap={s:c1(fR)};} } Set(fR){ if(this.isConst)(((fS) => fS("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fS) => { console.log(fS);}));else { dI(this.snap);this.current=fR;this.snap={s:c0(fR, [])};} } get View(){ return this.view;} Get(){ return this.current;} UpdateMaybe(fR){ const fS=fR(this.Get());if(fS!=null&&fS.$==1)this.Set(fS.$0);} constructor(fR, fS, fT){ super();this.isConst=fR;this.current=fT;this.snap=fS;this.view=() => this.snap;this.id=cX();} }
function cc(fR, fS, fT){ const fU=fR.s;if(fU==null)fT();else fU!=null&&fU.$==2?(fU.$1.push(fT),fS(fU.$0)):fU!=null&&fU.$==3?(fU.$0.push(fS),fU.$1.push(fT)):fS(fU.$0);}
function cd(fR, fS){ const fT=fS.s;if(fT!=null&&fT.$==0)return{s:c1(fR(fT.$0))};else { const fU={s:c2([], [])};ck(fS, (fV) => { cl(fU, fS, fR(fV));}, fU);return fU;} }
function ce(fR, fS, fT, fU){ const fV=fS.s;const fW=fT.s;const fX=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?fX!=null&&fX.$==0?{s:c1(fR(fV.$0, fW.$0, fX.$0))}:cm(fR, fV.$0, fW.$0, fU):fX!=null&&fX.$==0?cn(fR, fV.$0, fX.$0, fT):co(fR, fV.$0, fT, fU);else if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?cp(fR, fW.$0, fX.$0, fS):cq(fR, fW.$0, fS, fU);else if(fX!=null&&fX.$==0)return cr(fR, fX.$0, fS, fT);else { const fY={s:c2([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=cs(fS);const f2=cs(fT);const f3=cs(fU);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f1.$0[1]&&f2.$0[1]&&f3.$0[1])ct(fY, fR(f1.$0[0], f2.$0[0], f3.$0[0]));else cu(fY, fR(f1.$0[0], f2.$0[0], f3.$0[0]));} };ck(fS, fZ, fY);ck(fT, fZ, fY);ck(fU, fZ, fY);return fY;} }
function cf(fR){ const fS=bI(fR);if(fS.length==0)return{s:c1([])};else { const fT={s:c2([], [])};const fU=[l(fS)-1];const fV=() => { if(fU[0]===0){ const fW=bG((fX) => { const fY=fX.s;return fY!=null&&fY.$==0?fY.$0:fY!=null&&fY.$==2?fY.$0:d("value not found by View.Sequence");}, fS);if(bL((fX) => { const fY=fX.s;return fY!=null&&fY.$==0;}, fS))ct(fT, fW);else cu(fT, fW);} else fU[0]=fU[0]-1;};bE((fW) => { ck(fW, fV, fT);}, fS);return fT;} }
function cg(fR, fS, fT){ const fU=fS.s;const fV=fT.s;if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?{s:c1(fR(fU.$0, fV.$0))}:cv(fR, fU.$0, fT);else if(fV!=null&&fV.$==0)return cw(fR, fV.$0, fS);else { const fW={s:c2([], [])};const fX=() => { const fY=fW.s;if(!(fY!=null&&fY.$==0||fY!=null&&fY.$==2)){ const fZ=cs(fS);const f0=cs(fT);if(fZ!=null&&fZ.$==1)if(f0!=null&&f0.$==1)if(fZ.$0[1]&&f0.$0[1])ct(fW, fR(fZ.$0[0], f0.$0[0]));else cu(fW, fR(fZ.$0[0], f0.$0[0]));} };ck(fS, fX, fW);ck(fT, fX, fW);return fW;} }
function ch(fR, fS){ const fT=fR.s;const fU=fS.s;if(fT!=null&&fT.$==0)return fU!=null&&fU.$==0?{s:c1(null)}:fS;else if(fU!=null&&fU.$==0)return fR;else { const fV={s:c2([], [])};const fW=() => { const fX=fV.s;if(!(fX!=null&&fX.$==0||fX!=null&&fX.$==2)){ const fY=cs(fR);const fZ=cs(fS);if(fY!=null&&fY.$==1)if(fZ!=null&&fZ.$==1)if(fY.$0[1]&&fZ.$0[1])ct(fV, null);else cu(fV, null);} };ck(fR, fW, fV);ck(fS, fW, fV);return fV;} }
function ci(fR){ const fS=fR.s;if(fS==null)return fR;else if(fS!=null&&fS.$==2){ const fT={s:c0(fS.$0, [])};cx(fR, fT);return fT;} else if(fS!=null&&fS.$==3){ const fU={s:c2([], [])};ck(fR, (fV) => { cl(fU, fR, fV);}, fU);return fU;} else return fR;}
function cj(fR, fS){ const fT=fR.s;if(fT==null)fS();else fT!=null&&fT.$==2?fT.$1.push(fS):fT!=null&&fT.$==3?fT.$1.push(fS):void 0;}
function ck(fR, fS, fT){ const fU=fR.s;if(fU==null)dI(fT);else fU!=null&&fU.$==2?(cy(fU.$1, fT),fS(fU.$0)):fU!=null&&fU.$==3?(fU.$0.push(fS),cy(fU.$1, fT)):fS(fU.$0);}
function cl(fR, fS, fT){ const fU=fS.s;if(fU!=null&&fU.$==0)ct(fR, fT);else cu(fR, fT);}
function cm(fR, fS, fT, fU){ return cd((fV) => fR(fS, fT, fV), fU);}
function cn(fR, fS, fT, fU){ return cd((fV) => fR(fS, fV, fT), fU);}
function co(fR, fS, fT, fU){ return cg((fV, fW) => fR(fS, fV, fW), fT, fU);}
function cp(fR, fS, fT, fU){ return cd((fV) => fR(fV, fS, fT), fU);}
function cq(fR, fS, fT, fU){ return cg((fV, fW) => fR(fV, fS, fW), fT, fU);}
function cr(fR, fS, fT, fU){ return cg((fV, fW) => fR(fV, fW, fS), fT, fU);}
function cs(fR){ const fS=fR.s;return fS!=null&&fS.$==0?U([fS.$0, true]):fS!=null&&fS.$==2?U([fS.$0, false]):null;}
function ct(fR, fS){ const fT=fR.s;if(fT!=null&&fT.$==3){ fR.s=c1(fS);const fU=fT.$0;for(let fV=0, fW=l(fU)-1;fV<=fW;fV++)(i(fU, fV))(fS);} else void 0;}
function cu(fR, fS){ const fT=fR.s;if(fT!=null&&fT.$==3){ fR.s=c0(fS, fT.$1);const fU=fT.$0;for(let fV=0, fW=l(fU)-1;fV<=fW;fV++)(i(fU, fV))(fS);} else void 0;}
function cv(fR, fS, fT){ return cd((fU) => fR(fS, fU), fT);}
function cw(fR, fS, fT){ return cd((fU) => fR(fU, fS), fT);}
function cx(fR, fS){ const fT=fR.s;if(fT==null)dI(fS);else fT!=null&&fT.$==2?cy(fT.$1, fS):fT!=null&&fT.$==3?cy(fT.$1, fS):void 0;}
function cy(fR, fS){ fR.push(fS);if(fR.length%20===0){ const fT=fR.slice(0);fG(fR);for(let fV=0, fW=l(fT)-1;fV<=fW;fV++){ const fU=i(fT, fV);if(typeof fU=="object")(((fX) => { if(fX.s)fR.push(fX);})(fU));else(((fX) => { fR.push(fX);})(fU));} } else void 0;}
let cz=fO((fR) => class fS { static { cz=fR(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bd("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bd("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cA(fR, fS){ cB(fR, fS, null);}
function cB(fR, fS, fT){ while(true){ if(fS!=null&&fS.$==1)return cG(fR, fS.$0.El, fT);else if(fS!=null&&fS.$==2){ const fU=fS.$0;fU.Dirty=false;fS=fU.Current;} else if(fS==null)return fT;else if(fS!=null&&fS.$==4)return cG(fR, fS.$0.Text, fT);else if(fS!=null&&fS.$==5)return cG(fR, fS.$0, fT);else if(fS!=null&&fS.$==6)return bF((fX, fY) =>((((fZ) =>(f0) =>(f1) => f0==null||f0.constructor===Object?cB(fZ, f0, f1):cG(fZ, f0, f1))(fR))(fX))(fY), fS.$0.Els, fT);else { const fV=fS.$1;const fW=fS.$0;fS=fW;fT=cB(fR, fV, fT);} } }
function cC(fR, fS){ return ew(ex(), cH(fR, dP(), fS));}
function cD(fR, fS, fT){ if(dy()){ const fU=null;return F(() => { const fV=ey(fT);const fW=cL(fS, fV);const fX=cK(fS, fV);return G(dz(dA(fW, cJ(fS, fV))), () => G(cI(fR, fS), () => G(dz(fX), () => { fS.PreviousNodes=fV;return H(null);})));});} else return cI(fR, fS);}
function cE(fR, fS, fT){ const fU=ey(fT);cM(fR, fS.Top);fS.PreviousNodes=fU;}
function cF(fR, fS){ const fT=fR.parentNode;const fU=globalThis.document.createTextNode("");fT.insertBefore(fU, fR);cP(fR, fS);return fU;}
function cG(fR, fS, fT){ ds(fR, fT, fS);return fS;}
function cH(fR, fS, fT){ cA(fR, fT);const fU=dJ(fR, fS);return cU.New(fU, fT, null, fR, cX(), fL(fU.OnAfterRender));}
function cI(fR, fS){ if(dF()){ const fT=(fU) => { requestAnimationFrame(() => { cM(fR, fS.Top);fU();});};return O((fU, fV, fW) => fT.apply(null, [fU, fV, fW]));} else { cM(fR, fS.Top);return H(null);} }
function cJ(fR, fS){ return dD(bG((fT) => dR(fT.Attr), eC(eB(fS, eA((fT) => dQ(fT.Attr), fR.PreviousNodes)))));}
function cK(fR, fS){ return dD(bG((fT) => dT(fT.Attr), eC(eB(fR.PreviousNodes, eA((fT) => dS(fT.Attr), fS)))));}
function cL(fR, fS){ const fT=(fV) => dU(fV.Attr);const fU=(fV) => eA(fT, fV);return dD(bG((fV) => dV(fV.Attr), eC(eD(fU(fR.PreviousNodes), fU(fS)))));}
function cM(fR, fS){!fR?cQ(fS):void 0;cR(fS.Children);cS(fS);}
function cN(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cO(fR, fS){ fR.Value=fS;fR.Dirty=true;}
function cP(fR, fS){ cB(fR.parentNode, fS, fR);}
function cQ(fR){ function fS(fT){ function fU(fV){ while(true){ if(fV!=null&&fV.$==0){ const fW=fV.$1;const fX=fV.$0;if(fU(fX))return true;else fV=fW;} else if(fV!=null&&fV.$==2){ const fY=fV.$0;if(fY.Dirty)return true;else fV=fY.Current;} else if(fV!=null&&fV.$==6){ const fZ=fV.$0;return fZ.Dirty||bC(fS, fZ.Holes);} else return false;} } return fU(fT.Children);} dY(fR.El, fR.Attr);if(fS(fR))cT(fR);}
function cR(fR){ while(true){ if(fR!=null&&fR.$==1)return cM(false, fR.$0);else if(fR!=null&&fR.$==2){ const fS=fR.$0;fR=fS.Current;} else if(fR==null)return null;else if(fR!=null&&fR.$==5)return null;else if(fR!=null&&fR.$==4){ const fT=fR.$0;return fT.Dirty?(fT.Text.nodeValue=fT.Value,fT.Dirty=false):null;} else if(fR!=null&&fR.$==6){ const fU=fR.$0;bE((fX) => { cM(false, fX);}, fU.Holes);bE((fX) => { dY(fX[0], fX[1]);}, fU.Attrs);return cS(fU);} else { const fV=fR.$1;const fW=fR.$0;cR(fW);fR=fV;} } }
function cS(fR){ const fS=fL(fR.Render);if(fS!=null&&fS.$==1){ fS.$0(fR.El);fK(fR, "Render", null);} }
function cT(fR){ const fS=fR.El;function fT(fX, fY){ while(true){ if(fX!=null&&fX.$==1)return fX.$0.El;else if(fX!=null&&fX.$==2){ const fZ=fX.$0;if(fZ.Dirty){ fZ.Dirty=false;return cB(fS, fZ.Current, fY);} else fX=fZ.Current;} else if(fX==null)return fY;else if(fX!=null&&fX.$==4)return fX.$0.Text;else if(fX!=null&&fX.$==5)return fX.$0;else if(fX!=null&&fX.$==6){ const f0=fX.$0;if(f0.Dirty)f0.Dirty=false;return bF((f3, f4) => f3==null||f3.constructor===Object?fT(f3, f4):f3, f0.Els, fY);} else { const f1=fX.$1;const f2=fX.$0;fX=f2;fY=fT(f1, fY);} } } const fU=fR.El;fw((fX) => { dt(fU, fX);}, fv(fx(fR), fu(fR.El, fL(fR.Delimiters))));let fV=fR.Children;const fW=fL(fR.Delimiters);fT(fV, fW!=null&&fW.$==1?fW.$0[1]:null);}
class cU { Attr;Children;Delimiters;El;ElKey;Render;Equals(fR){ return this.ElKey===fR.ElKey;} GetHashCode(){ return this.ElKey;} static New(fR, fS, fT, fU, fV, fW){ const fX={Attr:fR, Children:fS, El:fU, ElKey:fV};let fY=(fK(fX, "Delimiters", fT),fK(fX, "Render", fW),fX);return fP(cU, fY);} }
class cV extends Error { ct;static New(fR){ return new this("New", fR);} static New_1(fR, fS, fT){ return new this("New_1", fR, fS, fT);} constructor(fR, fS, fT, fU){ let fV;if(fR=="New"){ fV=fS;fR="New_1";fS="The operation was canceled.";fT=null;fU=fV;} if(fR=="New_1"){ const fW=fS;const fX=fT;const fY=fU;super(fW);this.inner=fX;this.ct=fY;} } }
class cW extends g { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function cX(){ cY(cZ()+1);return cZ();}
function cY(fR){ eO.counter=fR;}
function cZ(){ return eO.counter;}
function c0(fR, fS){ return{$:2, $0:fR, $1:fS};}
function c1(fR){ return{$:0, $0:fR};}
function c2(fR, fS){ return{$:3, $0:fR, $1:fS};}
class c3 extends bc { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fR, fS){ const fT=eu.Create(fS);const fU=bG((fX) => dK(fX[1]), fR.Attrs);let fV=er(c4(), c_, fU);let fW=c_(fV, fT.v);return new c3(bY(fR), fW, i(fR.Els, 0), fT);} constructor(fR, fS, fT, fU){ super(fR, fS);this.docNode_1=fR;this.updates_1=fS;this.elt=fT;this.rvUpdates=fU;} }
function c4(fR){ const fS={s:c1(fR)};return() => fS;}
function c5(fR, fS){ function fT(){ cc(fS(), fR, () => { N().Fork(fT);});} N().Fork(fT);}
function c6(fR, fS){ return c$(() => cd(fR, fS()));}
function c7(fR, fS, fT, fU){ return c$(() => ce(fR, fS(), fT(), fU()));}
function c8(fR){ return c$(() => cf(bo((fS) => fS(), fR)));}
function c9(fR, fS, fT){ return c$(() => cg(fR, fS(), fT()));}
function c_(fR, fS){ return c$(() => ch(fR(), fS()));}
function c$(fR){ const fS={c:null, o:fR};return() => { let fT=fS.c;if(fT===null){ fT=fS.o();fS.c=fT;const fU=fT.s;if(fU!=null&&fU.$==0)fS.o=null;else cj(fT, () => { fS.c=null;});return fT;} else return fT;};}
function da(fR){ let fS=null;let fT=0;const fU=fR.textContent;const fV=new RegExp(bb(), "g");while(fS=fV.exec(fU),fS!==null){ fR.parentNode.insertBefore(globalThis.document.createTextNode(di(fU, U(fT), U(fV.lastIndex-i(fS, 0).length-1))), fR);fT=fV.lastIndex;const fW=globalThis.document.createElement("span");fW.setAttribute("ws-replace", i(fS, 1).toLowerCase());fR.parentNode.insertBefore(fW, fR);} fV.lastIndex=0;fR.textContent=di(fU, U(fT), null);}
function db(fR){ console.warn("Instantiating non-loaded template", fR);}
function dc(fR, fS, fT){ const fU=fR.querySelector("[ws-replace]");return p(fU, null)?(console.warn("Filling non-existent text hole", fT),null):(fU.parentNode.replaceChild(globalThis.document.createTextNode(fS), fU),U(fU.getAttribute("ws-replace")));}
function dd(fR, fS){ const fT=(fU) => { u0039(fR, "["+fU+"]", (fV) => { if(!fS.Contains(fV.getAttribute(fU)))fV.removeAttribute(fU);});};fT("ws-attr");fT("ws-onafterrender");fT("ws-var");u0039(fR, "[ws-hole]", (fU) => { if(!fS.Contains(fU.getAttribute("ws-hole"))){ fU.removeAttribute("ws-hole");while(fU.hasChildNodes())fU.removeChild(fU.lastChild);} });u0039(fR, "[ws-replace]", (fU) => { if(!fS.Contains(fU.getAttribute("ws-replace")))fU.parentNode.removeChild(fU);});u0039(fR, "[ws-on]", (fU) => { fU.setAttribute("ws-on", ej(" ", bH((fV) => fS.Contains(i(ek(fV, [":"], 1), 1)), ek(fU.getAttribute("ws-on"), [" "], 1))));});u0039(fR, "[ws-attr-holes]", (fU) => { const fV=ek(fU.getAttribute("ws-attr-holes"), [" "], 1);for(let fZ=0, f0=fV.length-1;fZ<=f0;fZ++){ const fW=i(fV, fZ);let fX=new RegExp(bb(), "g");let fY=fU.getAttribute(fW).replace(fX, (f1, f2) => fS.Contains(f2)?f1:"");fU.setAttribute(fW, fY);} });}
function de(fR, fS){ dh(fS);const fT=fS.nodeName.toLowerCase();const fU=fR.querySelector("[ws-attr="+fT+"]");if(p(fU, null))console.warn("Filling non-existent attr hole", fT);else { fU.removeAttribute("ws-attr");for(let fW=0, fX=fS.attributes.length-1;fW<=fX;fW++){ const fV=fS.attributes.item(fW);if(fV.name=="class"&&fU.hasAttribute("class"))fU.setAttribute("class", fU.getAttribute("class")+" "+fV.nodeValue);else fU.setAttribute(fV.name, fV.nodeValue);} } }
function df(fR, fS){ const fT=(fU) => { u0039(fR, "["+fU+"]", (fV) => { let fW;const fX=(fW=null,[fS.TryGetValue(fV.getAttribute(fU).toLowerCase(), {get:() => fW, set:(fY) => { fW=fY;}}), fW]);if(fX[0])fV.setAttribute(fU, fX[1]);});};fT("ws-hole");fT("ws-replace");fT("ws-attr");fT("ws-onafterrender");fT("ws-var");u0039(fR, "[ws-on]", (fU) => { fU.setAttribute("ws-on", ej(" ", bG((fV) => { let fW;const fX=ek(fV, [":"], 1);const fY=(fW=null,[fS.TryGetValue(i(fX, 1), {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);return fY[0]?i(fX, 0)+":"+fY[1]:fV;}, ek(fU.getAttribute("ws-on"), [" "], 1))));});u0039(fR, "[ws-attr-holes]", (fU) => { const fV=ek(fU.getAttribute("ws-attr-holes"), [" "], 1);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)((() => { const fY=i(fV, fW);return fU.setAttribute(fY, bm((fZ, f0) => { const f1=e(f0);return fZ.replace(new RegExp("\\${"+f1[0]+"}", "ig"), "${"+f1[1]+"}");}, fU.getAttribute(fY), fS));})());});}
function dg(fR, fS, fT){ while(true){ if(fR.hasChildNodes())fT=fS.insertBefore(fR.lastChild, fT);else return null;} }
function dh(fR){ const fS=fR.attributes;const fT=[];const fU=[];const fV=[];for(let f0=0, f1=fS.length-1;f0<=f1;f0++){ const fW=fS.item(f0);if(el(fW.nodeName, "ws-on")&&fW.nodeName!="ws-onafterrender"&&fW.nodeName!="ws-on"){ fT.push(fW.nodeName);fU.push(di(fW.nodeName, U("ws-on".length), null)+":"+fW.nodeValue.toLowerCase());} else if(!el(fW.nodeName, "ws-")&&(new RegExp(bb())).test(fW.nodeValue)){ let fX=new RegExp(bb(), "g");let fY=fW.nodeValue.replace(fX, (f2, f3) =>"${"+f3.toLowerCase()+"}");fW.nodeValue=fY;fV.push(fW.nodeName);} else void 0;} if(!(fU.length==0))fR.setAttribute("ws-on", ej(" ", fU));if(!(fV.length==0))fR.setAttribute("ws-attr-holes", ej(" ", fV));const fZ=(f2) => { const f3=fR.getAttribute(f2);if(f3==null){ } else fR.setAttribute(f2, f3.toLowerCase());};fZ("ws-hole");fZ("ws-replace");fZ("ws-attr");fZ("ws-onafterrender");fZ("ws-var");bE((f2) => { fR.removeAttribute(f2);}, fT);}
function di(fR, fS, fT){ if(fS==null){ if(fT!=null&&fT.$==1){ const fU=fT.$0;return fU<0?"":fR.slice(0, fU+1);} else return"";} else if(fT==null)return fR.slice(fS.$0);else { const fV=fT.$0;return fV<0?"":fR.slice(fS.$0, fV+1);} }
function dj(fR){ const fS=globalThis.document.createElement("div");if(!dl().test(fR)){ fS.appendChild(globalThis.document.createTextNode(fR));return fS;} else { const fT=dp().exec(fR);const fU=p(fT, null)?"":i(fT, 1).toLowerCase();const fV=(dm())[fU];const fW=fV?fV:dn();fS.innerHTML=fW[1]+fR.replace(do_1(), "<$1></$2>")+fW[2];function fX(fY, fZ){ while(true){ if(fZ===0)return fY;else { const f0=fZ;fY=fY.lastChild;fZ=f0-1;} } } return fX(fS, fW[0]);} }
function dk(fR){ const fS=[];for(let fT=0, fU=fR.childNodes.length-1;fT<=fU;fT++)fS.push(fR.childNodes[fT]);return fS;}
function dl(){ return eP.rhtml;}
function dm(){ return eP.wrapMap;}
function dn(){ return eP.defaultWrap;}
function do_1(){ return eP.rxhtmlTag;}
function dp(){ return eP.rtagName;}
function dq(fR, fS, fT){ const fU=fR.querySelectorAll(fS);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function dr(fR, fS){ const fT=globalThis.document.querySelectorAll(fR);for(let fU=0, fV=fT.length-1;fU<=fV;fU++)fS(fT[fU]);}
function ds(fR, fS, fT){ let fU;if(fT.parentNode===fR){ const fV=fT.nextSibling;let fW=p(fV, null)?null:fV;fU=fS===fW;} else fU=false;if(!fU)fR.insertBefore(fT, fS);}
function dt(fR, fS){ if(fS.parentNode===fR)fR.removeChild(fS);}
function du(){ return d("The input sequence has an insufficient number of elements.");}
function dv(fR, fS){ let fT=true;let fU=0;while(fT&&fU<l(fS))if(p(fS[fU], fR))fT=false;else fU=fU+1;return!fT;}
function dw(){ return d("The input must be non-negative.");}
class dx extends g { d;GetEnumerator(){ return b7(bo((fR) => fR.K, this.d));} constructor(fR){ super();this.d=fR;} }
function dy(){ return eE();}
function dz(fR){ const fS=null;return F(() => G(dB(() => { }, eF(fR)), () => { eG(fR);return H(null);}));}
function dA(fR, fS){ return dC(eR(fR.$0, fS.$0));}
function dB(fR, fS){ const fT=fS.Duration;if(fT===0)return P();else { const fU=(fV) => { function fW(fX){ return(fY) => { const fZ=fY-fX;fS.Compute(fZ);fR();return fZ<=fT?void requestAnimationFrame((f0) => {(fW(fX))(f0);}):fV();};} requestAnimationFrame((fX) => {(fW(fX))(fX);});};return O((fV, fW, fX) => fU.apply(null, [fV, fW, fX]));} }
function dC(fR){ return{$:0, $0:fR};}
function dD(fR){ return dC(eT(bo(eI, fR)));}
function dE(){ return dC(eU());}
function dF(){ return eM.BatchUpdatesEnabled;}
function dG(fR){ const fS=[0];function fT(){ const fU=null;return F(() => G(fR, () => { const fV=fS[0];return p(fV, 1)?(fS[0]=0,P()):p(fV, 2)?(fS[0]=1,fT()):P();}));} return() => { const fU=fS[0];if(p(fU, 0)){ fS[0]=1;Q(fT(), null);} else p(fU, 1)?fS[0]=2:void 0;};}
function dH(fR, fS, fT, fU){ const fV={DynElem:fR, DynFlags:fS, DynNodes:fT};fK(fV, "OnAfterRender", fU);return fV;}
function dI(fR){ let fS;const fT=fR.s;if(fT==null||(fT!=null&&fT.$==2?(fS=fT.$1,false):fT!=null&&fT.$==3?(fS=fT.$1,false):true))void 0;else { fR.s=null;for(let fV=0, fW=l(fS)-1;fV<=fW;fV++){ const fU=i(fS, fV);if(typeof fU=="object")(((fX) => { dI(fX);})(fU));else fU();} } }
function dJ(fR, fS){ const fT=[];const fU=[];function fV(fY){ while(true){ if(!(fY===null)){ if(fY!=null&&fY.$==1)return fT.push(fY.$0);else if(fY!=null&&fY.$==2){ const fZ=fY.$1;const f0=fY.$0;fV(f0);fY=fZ;} else return fY!=null&&fY.$==3?fY.$0(fR):fY!=null&&fY.$==4?fU.push(fY.$0):null;} else return null;} } fV(fS);const fW=fT.slice(0);let fX=dH(fR, dM(fS), fW, fU.length===0?null:U((fY) => { bn((fZ) => { fZ(fY);}, fU);}));return fX;}
function dK(fR){ return es((fS) => fS.NChanged, c4(), c_, fR.DynNodes);}
function dL(fR){ return dH(fR, 0, [], null);}
function dM(fR){ return fR!==null&&fR.hasOwnProperty("flags")?fR.flags:0;}
function dN(fR){ return ed.A3(fR);}
function dO(fR, fS){ return ed.A1(new eV(fR, fS));}
function dP(){ return eX.EmptyAttr;}
function dQ(fR){ const fS=2;return(fR.DynFlags&fS)===fS;}
function dR(fR){ return dX(fR, (fS, fT) => fS.NGetExitAnim(fT));}
function dS(fR){ const fS=1;return(fR.DynFlags&fS)===fS;}
function dT(fR){ return dX(fR, (fS, fT) => fS.NGetEnterAnim(fT));}
function dU(fR){ const fS=4;return(fR.DynFlags&fS)===fS;}
function dV(fR){ return dX(fR, (fS, fT) => fS.NGetChangeAnim(fT));}
function dW(fR, fS){ if(fR===null)return fS;else if(fS===null)return fR;else { const fT=ed.A2(fR, fS);dZ(fT, dM(fR)|dM(fS));return fT;} }
function dX(fR, fS){ return dD(bG((fT) => fS(fT, fR.DynElem), fR.DynNodes));}
function dY(fR, fS){ bE((fT) => { fT.NSync(fR);}, fS.DynNodes);}
function dZ(fR, fS){ fR.flags=fS;}
class d0 extends C { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d1 extends C { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return eg(this.fillWith);} }
class d2 extends C { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d3 extends C { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d4(fR, fS){ return dN((fT) => { fT.addEventListener(fR, (fU) =>(fS(fT))(fU), false);});}
function d5(fR){ return ed.A4(fR);}
function d6(fR, fS){ return dO(fS, (fT) =>(fU) => fT.setAttribute(fR, fU));}
function d7(fR){ return eb(fm(), fR);}
function d8(fR){ return eb(fn(), fR);}
function d9(fR){ return eb(fo(), fR);}
function d_(fR){ return eb(fp(), fR);}
function d$(fR){ return eb(fq(), fR);}
function ea(fR){ return eb(fr(), fR);}
function eb(fR, fS){ const fT=fR(fS);return ed.Append(dN(fT[0]), ec(fT[1], fT[2]));}
function ec(fR, fS){ return dO(fS, fR);}
class ed { static Handler(fR, fS){ return ed.HandlerImpl(fR, fS);} static Concat(fR){ const fS=et(fR);return er(dP(), ed.Append, fS);} static Create(fR, fS){ return dN((fT) => { fT.setAttribute(fR, fS);});} static HandlerImpl(fR, fS){ return dN((fT) => { fT.addEventListener(fR, (fU) =>(fS(fT))(fU), false);});} static Append(fR, fS){ return dW(fR, fS);} static A4(fR){ return fP(ed, {$:4, $0:fR});} static A3(fR){ return fP(ed, {$:3, $0:fR});} static A1(fR){ return fP(ed, {$:1, $0:fR});} static A2(fR, fS){ return fP(ed, {$:2, $0:fR, $1:fS});} }
class ee extends C { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ef extends C { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function eg(fR){ return{$:0, $0:fR};}
function eh(fR){ return{$:1, $0:fR};}
class ei { static Cons(fR, fS){ return fP(ei, {$:1, $0:fR, $1:fS});} static Empty=fP(ei, {$:0});GetEnumerator(){ return new b$(this, null, (fR) => { const fS=fR.s;return fS.$==0?false:(fR.c=fS.$0,fR.s=fS.$1,true);}, void 0);} }
function ej(fR, fS){ return bI(fS).join(fR);}
function ek(fR, fS, fT){ return em(fR, new RegExp("["+en(fS.join(""))+"]"), fT);}
function el(fR, fS){ return fR.substring(0, fS.length)==fS;}
function em(fR, fS, fT){ return fT===1?bH((fU) => fU!=="", eo(fR, fS)):eo(fR, fS);}
function en(fR){ return fR.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eo(fR, fS){ return fR.split(fS);}
function ep(fR, fS){ return bx(fR, eq(fS));}
function eq(fR){ return fR==null?"":fR;}
function er(fR, fS, fT){ const fU=l(fT);function fV(fW){ return(fX) => { let fY;switch(fX<=0?0:fX===1?fW>=0&&fW<fU?1:(fY=fX,2):(fY=fX,2)){ case 0:return fR;case 1:return i(fT, fW);case 2:const fZ=fX/2>>0;return fS((fV(fW))(fZ), (fV(fW+fZ))(fX-fZ));} };} return(fV(0))(fU);}
function es(fR, fS, fT, fU){ const fV=l(fU);function fW(fX){ return(fY) => { let fZ;switch(fY<=0?0:fY===1?fX>=0&&fX<fV?1:(fZ=fY,2):(fZ=fY,2)){ case 0:return fS;case 1:return fR(i(fU, fX));case 2:const f0=fY/2>>0;return fT((fW(fX))(f0), (fW(fX+f0))(fY-f0));} };} return(fW(0))(fV);}
function et(fR){ if(fR instanceof Array)return fR;else if(fR instanceof ei)return bK(fR);else if(fR===null)return[];else { const fS=[];const fT=b7(fR);try { while(fT.MoveNext())fS.push(fT.Current);return fS;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } }
class eu { c;s;v;static Create(fR){ let fS;fS=null;fS=eu.New(fR, null, () => { let fT;fT=fS.s;return fT===null?(fT=ci(fS.c()),fS.s=fT,cj(fT, () => { fS.s=null;}),fT):fT;});return fS;} static New(fR, fS, fT){ return fP(eu, {c:fR, s:fS, v:fT});} }
class ev extends g { d;GetEnumerator(){ return b7(bo((fR) => fR.V, this.d));} constructor(fR){ super();this.d=fR;} }
function ew(fR, fS){ return{PreviousNodes:fR, Top:fS};}
function ex(){ return ez(new bj("New_3"));}
function ey(fR){ const fS=[];function fT(fW, fX){ while(true)switch(fW){ case 0:if(fX!=null&&fX.$==0){ const fY=fX.$1;const fZ=fX.$0;fT(0, fZ);fX=fY;} else if(fX!=null&&fX.$==1){ const f0=fX.$0;fX=f0;fW=1;} else if(fX!=null&&fX.$==2){ const f1=fX.$0;fX=f1.Current;} else if(fX!=null&&fX.$==6){ const f2=fX.$0.Holes;return(((f3) =>(f4) => { bE(f3, f4);})(fV))(f2);} else return null;break;case 1:fS.push(fX);fX=fX.Children;fW=0;break;} } function fU(fW){ return fT(0, fW);} function fV(fW){ return fT(1, fW);} fU(fR);return ez(new bj("New_2", fS));}
function ez(fR){ return{$:0, $0:fR};}
function eA(fR, fS){ return ez(eZ(fR, fS.$0));}
function eB(fR, fS){ return ez(e0(fR.$0, fS.$0));}
function eC(fR){ return e1(fR.$0);}
function eD(fR, fS){ return ez(e2(fR.$0, fS.$0));}
function eE(){ return eQ.UseAnimations;}
function eF(fR){ return eH(bz((fS) => fS.$==1?U(fS.$0):null, eS(fR.$0)));}
function eG(fR){ bE((fS) => { if(fS.$==0)fS.$0();}, eS(fR.$0));}
function eH(fR){ const fS=et(fR);const fT=l(fS);if(fT===0)return eJ();else if(fT===1)return i(fS, 0);else { const fU=br(bo((fW) => fW.Duration, fS));const fV=bG((fW) => eL(fU, fW), fS);return eK(fU, (fW) => { bE((fX) => { fX.Compute(fW);}, fV);});} }
function eI(fR){ return fR.$0;}
function eJ(fR){ return eK(0, () => fR);}
function eK(fR, fS){ return{Compute:fS, Duration:fR};}
function eL(fR, fS){ const fT=fS.Compute;const fU=fS.Duration;const fV=fC(() => fS.Compute(fS.Duration));return{Compute:(fW) => fW>=fU?fV.f():fT(fW), Duration:fR};}
let eM=fO((fR) => class fS { static { eM=fR(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eN(fR){ let fS=[];let fT;for(var fU in fR)fS.push.apply(fS, fR[fU]);return fS;}
let eO=fO((fR) => class fS { static { eO=fR(this);} static counter;static { this.counter=0;} });
let eP=fO((fR) => class fS { static { eP=fR(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fT=[1, "<table>", "</table>"];let fU=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fT], ["tbody", fT], ["tfoot", fT], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fU;this.defaultWrap=[0, "", ""];} });
let eQ=fO((fR) => class fS { static { eQ=fR(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eY.Custom((fT) => { const fU=fT*fT;return 3*fU-2*(fU*fT);});this.UseAnimations=true;} });
function eR(fR, fS){ return fR.$==0?fS:fS.$==0?fR:{$:2, $0:fR, $1:fS};}
function eS(fR){ const fS=[];function fT(fU){ while(true){ if(fU.$==1)return fS.push(fU.$0);else if(fU.$==2){ const fV=fU.$1;const fW=fU.$0;fT(fW);fU=fV;} else return fU.$==3?bE((fX) => { fS.push(fX);}, fU.$0):null;} } fT(fR);return fS.slice(0);}
function eT(fR){ const fS=et(fR);return er(eU(), eR, fS);}
function eU(){ return fF.Empty;}
class eV extends g { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fR){ return dE();} NGetEnterAnim(fR){ return dE();} NGetChangeAnim(fR){ return dE();} NSync(fR){ if(this.dirty){(this.push(fR))(this.value);this.dirty=false;} } constructor(fR, fS){ super();this.push=fS;this.value=void 0;this.dirty=false;this.updates=c6((fT) => { this.value=fT;this.dirty=true;}, fR);} }
class eW extends Error { static New(){ return new this("New");} static New_1(fR){ return new this("New_1", fR);} constructor(fR, fS){ if(fR=="New"){ fR="New_1";fS="The given key was not present in the dictionary.";} if(fR=="New_1"){ const fT=fS;super(fT);} } }
let eX=fO((fR) => class fS { static { eX=fR(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f9) =>[(f_) => { f_.addEventListener("change", () => f9.Get()!=f_.checked?f9.Set(f_.checked):null);}, (f_) =>(f$) => f$!=null&&f$.$==1?void(f_.checked=f$.$0):null, c6(U, f9.View)];this.StringSet=(f9) =>(f_) => { f9.value=f_;};this.StringGet=(f9) => U(f9.value);const fT=e8();const fU=e7();this.StringApply=(f9) => e6(fT, fU, f9);this.StringListSet=(f9) =>(f_) => { const f$=f9.options;for(let ga=0, gb=f$.length-1;ga<=gb;ga++)((() => { const gc=f$.item(ga);gc.selected=dv(gc.value, f_);})());};this.StringListGet=(f9) => { const f_=f9.selectedOptions;return U(bI(bp(() => bq((f$) =>[f_.item(f$).value], f(0, f_.length-1)))));};const fV=e_();const fW=e9();this.StringListApply=(f9) => e6(fV, fW, f9);this.DateTimeSetUnchecked=(f9) =>(f_) => { f9.value=(new Date(f_)).toLocaleString();};this.DateTimeGetUnchecked=(f9) => { let f_;let f$;const ga=f9.value;if(fs(ga))return U(-8640000000000000);else { f_=0;const gb=fA(ga);let gc=gb!=null&&gb.$==1&&(f_=gb.$0,true);f$=[gc, f_];return f$[0]?U(f$[1]):null;} };const fX=fa();const fY=e$();this.DateTimeApplyUnchecked=(f9) => e6(fX, fY, f9);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f9) => { const f_=f9.files;return U(bI(bp(() => bo((f$) => f_.item(f$), f(0, f_.length-1)))));};const fZ=fd();const f0=fc();this.FileApplyUnchecked=(f9) => fb(fZ, f0, f9);this.IntSetUnchecked=(f9) =>(f_) => { f9.value=String(f_);};this.IntGetUnchecked=(f9) => { const f_=f9.value;if(fs(f_))return U(0);else { const f$=+f_;return f$!==f$>>0?null:U(f$);} };const f1=ff();const f2=fe();this.IntApplyUnchecked=(f9) => e6(f1, f2, f9);this.IntSetChecked=(f9) =>(f_) => { const f$=f_.Input;return f9.value!=f$?void(f9.value=f$):null;};this.IntGetChecked=(f9) => { let f_;let f$;const ga=f9.value;if(fs(ga))f_=(f9.checkValidity?f9.checkValidity():true)?ft.Blank(ga):ft.Invalid(ga);else { const gb=(f$=0,[b2(ga, {get:() => f$, set:(gc) => { f$=gc;}}), f$]);f_=gb[0]?ft.Valid(gb[1], ga):ft.Invalid(ga);} return U(f_);};const f3=fh();const f4=fg();this.IntApplyChecked=(f9) => e6(f3, f4, f9);this.FloatSetUnchecked=(f9) =>(f_) => { f9.value=String(f_);};this.FloatGetUnchecked=(f9) => { const f_=f9.value;if(fs(f_))return U(0);else { const f$=+f_;return isNaN(f$)?null:U(f$);} };const f5=fj();const f6=fi();this.FloatApplyUnchecked=(f9) => e6(f5, f6, f9);this.FloatSetChecked=(f9) =>(f_) => { const f$=f_.Input;return f9.value!=f$?void(f9.value=f$):null;};this.FloatGetChecked=(f9) => { let f_;const f$=f9.value;if(fs(f$))f_=(f9.checkValidity?f9.checkValidity():true)?ft.Blank(f$):ft.Invalid(f$);else { const ga=+f$;f_=isNaN(ga)?ft.Invalid(f$):ft.Valid(ga, f$);} return U(f_);};const f7=fl();const f8=fk();this.FloatApplyChecked=(f9) => e6(f7, f8, f9);} });
class eY extends g { transformTime;static Custom(fR){ return new eY(fR);} constructor(fR){ super();this.transformTime=fR;} }
function eZ(fR, fS){ return new bj("New_2", bH(fR, e1(fS)));}
function e0(fR, fS){ const fT=new bj("New_2", e1(fS));fT.ExceptWith(e1(fR));return fT;}
function e1(fR){ const fS=bM(fR.Count, void 0);fR.CopyTo(fS, 0);return fS;}
function e2(fR, fS){ const fT=new bj("New_2", e1(fR));fT.IntersectWith(e1(fS));return fT;}
function e3(fR){ return fR.$==1?fR.$0:e5();}
function e4(fR){ return fR.$==1?fR.$1:e5();}
function e5(){ return d("The input list was empty.");}
function e6(fR, fS, fT){ let fU;fU=null;return[(fV) => { const fW=() => { fT.UpdateMaybe((fX) => { let fY;fU=fR(fV);return fU!=null&&fU.$==1&&(!p(fU.$0, fX)&&(fY=[fU, fU.$0],true))?fY[0]:null;});};fV.addEventListener("change", fW);fV.addEventListener("input", fW);fV.addEventListener("keypress", fW);}, (fV) => { const fW=fS(fV);return(fX) => fX==null?null:fW(fX.$0);}, c6((fV) => { let fW;return fU!=null&&fU.$==1&&(p(fU.$0, fV)&&(fW=fU.$0,true))?null:U(fV);}, fT.View)];}
function e7(){ return eX.StringSet;}
function e8(){ return eX.StringGet;}
function e9(){ return eX.StringListSet;}
function e_(){ return eX.StringListGet;}
function e$(){ return eX.DateTimeSetUnchecked;}
function fa(){ return eX.DateTimeGetUnchecked;}
function fb(fR, fS, fT){ let fU;fU=null;return[(fV) => { fV.addEventListener("change", () => { fT.UpdateMaybe((fW) => { let fX;fU=fR(fV);return fU!=null&&fU.$==1&&(fU.$0!==fW&&(fX=[fU, fU.$0],true))?fX[0]:null;});});}, (fV) => { const fW=fS(fV);return(fX) => fX==null?null:fW(fX.$0);}, c6((fV) => { let fW;return fU!=null&&fU.$==1&&(p(fU.$0, fV)&&(fW=fU.$0,true))?null:U(fV);}, fT.View)];}
function fc(){ return eX.FileSetUnchecked;}
function fd(){ return eX.FileGetUnchecked;}
function fe(){ return eX.IntSetUnchecked;}
function ff(){ return eX.IntGetUnchecked;}
function fg(){ return eX.IntSetChecked;}
function fh(){ return eX.IntGetChecked;}
function fi(){ return eX.FloatSetUnchecked;}
function fj(){ return eX.FloatGetUnchecked;}
function fk(){ return eX.FloatSetChecked;}
function fl(){ return eX.FloatGetChecked;}
function fm(){ return eX.StringApply;}
function fn(){ return eX.FloatApplyUnchecked;}
function fo(){ return eX.BoolCheckedApply;}
function fp(){ return eX.DateTimeApplyUnchecked;}
function fq(){ return eX.FileApplyUnchecked;}
function fr(){ return eX.StringListApply;}
function fs(fR){ return ep(fz, fR);}
class ft { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fR){ return fP(ft, {$:2, $0:fR});} static Invalid(fR){ return fP(ft, {$:1, $0:fR});} static Valid(fR, fS){ return fP(ft, {$:0, $0:fR, $1:fS});} }
function fu(fR, fS){ let fT;if(fS!=null&&fS.$==1){ const fU=[];fT=fS.$0[0].nextSibling;while(fT!==fS.$0[1]){ fU.push(fT);fT=fT.nextSibling;} return fy(fU);} else { let fV=fR.childNodes.length;const fW=fR.childNodes;let fX=bN(fV, (fY) => fW[fY]);return fy(fX);} }
function fv(fR, fS){ const fT=fR.$0;return fy(bH((fU) => bL((fV) =>!(fU===fV), fT), fS.$0));}
function fw(fR, fS){ bE(fR, fS.$0);}
function fx(fR){ const fS=[];function fT(fU){ while(true){ if(fU!=null&&fU.$==2){ const fV=fU.$0;fU=fV.Current;} else if(fU!=null&&fU.$==1)return fS.push(fU.$0.El);else if(fU==null)return null;else if(fU!=null&&fU.$==5)return fS.push(fU.$0);else if(fU!=null&&fU.$==4)return fS.push(fU.$0.Text);else if(fU!=null&&fU.$==6){ const fW=fU.$0.Els;return(((fZ) =>(f0) => { bE(fZ, f0);})((fZ) => { if(fZ==null||fZ.constructor===Object)fT(fZ);else fS.push(fZ);}))(fW);} else { const fX=fU.$1;const fY=fU.$0;fT(fY);fU=fX;} } } fT(fR.Children);return fy(et(fS));}
function fy(fR){ return{$:0, $0:fR};}
function fz(fR){ return fR.match(new RegExp("\\s"))!==null;}
function fA(fR){ const fS=Date.parse(fR);return isNaN(fS)?null:U(fS);}
function fB(fR, fS, fT, fU){ const fV=+fR;const fW=fV===fV-fV%1&&fV>=fS&&fV<=fT;if(fW)fU.set(fV);return fW;}
function fC(fR){ return fH(false, fR, fD);}
function fD(){ const fR=this.v();this.c=true;this.v=fR;this.f=fE;return fR;}
function fE(){ return this.v;}
let fF=fO((fR) => class fS { static { fF=fR(this);} static Empty;static { this.Empty={$:0};} });
function fG(fR){ fR.splice(0, l(fR));}
function fH(fR, fS, fT){ return{c:fR, v:fS, f:fT};}
fQ(() => { b();});
fI();

